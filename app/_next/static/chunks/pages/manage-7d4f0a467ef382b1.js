(global.webpackChunk_N_E=global.webpackChunk_N_E||[]).push([[867],{3265:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return n(6720)}])},8468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4246),a=n(4426);n(4893);function s(e){var t=e.children;return(0,r.jsx)(a.Z,{className:"h-screen",style:{backgroundColor:"transparent"},children:(0,r.jsx)(a.Z,{className:"h-full px-8 py-4",children:t})})}},9802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(4246),a=n(1875),s=n(489),i=n(9554);const c=function(e){var t=e.message,n=void 0===t?i.c:t;return(0,r.jsx)(a.Z,{direction:"vertical",style:{width:"100%"},className:"my-2",children:(0,r.jsx)(s.Z,{message:n,type:"error"})})}},8111:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,N:()=>i});var r=n(4246),a=n(47),s=function(e){var t=e.title;return(0,r.jsx)("div",{className:"w-full mb-2 ",children:(0,r.jsx)("h5",{className:"font-medium w-full leading-tight text-xl mt-0 !mb-0 txt-primary",children:t})})},i=function(e){var t=e.title,n=e.extraInformations,s=e.actionButtons;return(0,r.jsxs)("div",{className:"lg:flex lg:items-center lg:justify-between mb-4",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("h2",{className:"text-lg font-bold leading-7 txt-primary",children:t}),n&&(0,r.jsx)("div",{className:"mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap sm:space-x-6",children:n.map((function(e){return(0,r.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.icon?e.icon:(0,r.jsx)(a.Z,{}),e.info]})}))})]}),(0,r.jsx)("div",{className:"mt-5 flex lg:mt-0 lg:ml-4",children:s&&s.map((function(e){return(0,r.jsx)("span",{className:"sm:ml-3",children:e})}))})]})}},6720:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ue});var r=n(4246),a=n(7378),s=n(4426),i=n(3515),c=n(8308),l=n(3041),u=n(1410),o=n(2281);var d=n(8468),m=n(3842),h=n(2050),p=n(9312),f=n(1300),y=n(1058),x=n(3027),g=n(8111),Z=n(2166),j=n(9802),v=n(9554);const b=function(){var e=[{title:"Payment type",dataIndex:"name"},{title:"Code",dataIndex:"code"},{title:"Status",dataIndex:"isActive",render:function(e,t){return(0,r.jsx)(f.Z,{checked:e,onChange:function(){return N(t)}})}}],t=(0,a.useState)(!1),n=t[0],s=t[1],i=(0,a.useState)(!1),c=(i[0],i[1],(0,a.useState)(!1)),l=c[0],u=c[1],o=(0,a.useState)([]),d=o[0],b=o[1],S=(0,h.Z)(y.ZP.useMessage(),2),w=(S[0],S[1],function(){var e=(0,m.Z)((function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u(!1),s(!0),[4,(0,Z.DR)()];case 1:return(e=n.sent())&&(b(e),s(!1)),[3,3];case 2:return t=n.sent(),console.log("%c updated response ","background: red; color: #fff",t),u(!0),s(!1),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}());(0,a.useEffect)((function(){w()}),[]);var N=function(){var e=(0,m.Z)((function(e){var t,n,r,a;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),s(!0),t={id:e.id},[4,(0,Z.yw)(t)];case 1:return n=i.sent(),r=d.map((function(e){return e.id===n.id?n:e})),b(r),y.ZP.success("Status updated successfully!"),s(!1),[3,3];case 2:return a=i.sent(),console.log("%c e ","background: red; color: #fff",a),s(!1),y.ZP.error(v.c),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(g.N,{title:"Payment Types"}),l&&(0,r.jsx)(j.Z,{className:"my-4"}),(0,r.jsx)(x.Z,{loading:n,rowKey:"id",columns:e,bordered:!0,size:"sm",dataSource:d},"id")]})};var S=n(9722),w=n(3444),N=n(5226),C=n(8540),P=n(4813),_=n(5427),I=n(5062),k=n(374),F=n(637),T=n(3361),D=n(6591),A=n(881),q=n(1072),Y=n(8625),R=n(5396),O=function(){var e=(0,m.Z)((function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,Y.Z.sendSync(q.N5.getAllDepartementsCall)];case 1:return e=t.sent(),[2,(0,R.Z)(e)]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,m.Z)((function(e){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,Y.Z.sendSync(q.N5.createDepartementCall,e)];case 1:return t=n.sent(),console.log("Create response",t),[2,(0,R.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,m.Z)((function(e){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,Y.Z.sendSync(q.N5.deleteDepartementCall,{id:e})];case 1:return t=n.sent(),console.log("delete response",t),[2,(0,R.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}(),M=x.Z.ColumnGroup,z=x.Z.Column;const W=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1],s=(0,a.useState)(!1),i=s[0],c=s[1],l=(0,a.useState)([]),u=l[0],o=l[1],d=(0,a.useState)([]),f=d[0],v=d[1],b=(0,h.Z)(N.Z.useForm(),1)[0],q=(0,a.useState)(!1),Y=q[0],R=q[1],W=function(){R(!1)},B=function(){var e=(0,m.Z)((function(){var e,t,r;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),c(!1),n(!0),[4,O()];case 1:return e=a.sent(),[4,(0,Z.DR)()];case 2:return(t=a.sent())&&e&&(o(e),v(t),n(!1)),[3,4];case 3:return r=a.sent(),console.log(r),c(!0),n(!1),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){B()}),[]);var L=function(){var e=(0,m.Z)((function(e){var t,r,a,s;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u.filter((function(t){return t.name.toLowerCase()===e.name.toLowerCase()})).length>0?(y.ZP.error("Departement with the same name already exists!"),[2]):(n(!0),t=(0,S.Z)({},e),[4,E(t)]);case 1:return r=i.sent(),a=(0,w.Z)(u).concat([r]),o(a),setTimeout((function(){n(!1),y.ZP.success("Departement information saved successfully"),b.resetFields(),W()}),1e3),[3,3];case 2:return s=i.sent(),console.log("Saving departement errror: ",s),y.ZP.error("Can't save departement information please try again"),n(!1),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,m.Z)((function(e){var t,r;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),n(!0),[4,H(e)];case 1:return a.sent()&&(t=u.filter((function(t){return t.id!=e})),setTimeout((function(){y.ZP.success("Departement deleted successfully"),o(t),n(!1)}),1e3)),[3,3];case 2:return r=a.sent(),console.log("Saving departement errror: ",r),y.ZP.error("Can't save departement information please try again"),n(!1),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Z,{title:"Add new departement information",open:Y,footer:null,onOk:W,onCancel:function(){R(!1)},destroyOnClose:!0,children:(0,r.jsx)(P.Z,{loading:t,children:(0,r.jsxs)(N.Z,{form:b,size:"middle",layout:"vertical",onFinish:L,children:[(0,r.jsx)(N.Z.Item,{label:"Name",name:"name",rules:[{required:!0}],children:(0,r.jsx)(_.Z,{placeholder:"Enter name here"})}),(0,r.jsxs)(I.Z,{gutter:[16,16],children:[(0,r.jsx)(k.Z,{span:12,children:(0,r.jsx)(N.Z.Item,{label:"Total Credit Hr",name:"totalCreditHour",rules:[{required:!0,message:"# of credit hr is required"}],children:(0,r.jsx)(F.Z,{placeholder:"0",className:"w-full"})})}),(0,r.jsx)(k.Z,{span:12,children:(0,r.jsx)(N.Z.Item,{label:"Price per Credit Hr",name:"pricePerCreditHour",rules:[{required:!0,message:"Price/credit hr is required"}],children:(0,r.jsx)(F.Z,{placeholder:"0",className:"w-full"})})})]}),(0,r.jsxs)(I.Z,{gutter:[16,16],children:[(0,r.jsx)(k.Z,{span:16,children:(0,r.jsx)(N.Z.Item,{label:"Payment Type",name:"paymentTypeId",rules:[{required:!0,message:"Payment type is required"}],children:(0,r.jsx)(T.Z,{children:f.filter((function(e){return e.isPaymentWay})).map((function(e){return(0,r.jsxs)(T.Z.Option,{value:e.id,children:[" ",e.name," "]})}))})})}),(0,r.jsx)(k.Z,{span:8,children:(0,r.jsx)(N.Z.Item,{label:"#credit hours",name:"creditHoursPerPaymentWay",rules:[{required:!0,message:"Required"}],children:(0,r.jsx)(F.Z,{placeholder:"0"})})})]}),(0,r.jsx)(N.Z.Item,{label:"Registration fee",name:"registrationPrice",rules:[{required:!0,message:"Registration can't be empty"}],children:(0,r.jsx)(F.Z,{placeholder:"0"})}),(0,r.jsx)(N.Z.Item,{children:(0,r.jsx)(D.Z,{className:"bg-primary",type:"primary",htmlType:"submit",children:"Submit"})})]})})}),(0,r.jsxs)(I.Z,{children:[(0,r.jsx)(k.Z,{span:16,children:(0,r.jsx)(g.L,{title:"Departements"})}),(0,r.jsx)(k.Z,{span:8,className:"text-end",children:(0,r.jsx)(D.Z,{className:"bg-primary",onClick:function(){R(!0)},children:"Add New"})})]}),i&&(0,r.jsx)(j.Z,{className:"my-4"}),(0,r.jsxs)(x.Z,{className:"pt-4",pagination:{pageSize:5},rowClassName:"group",loading:t,bordered:!0,size:"sm",dataSource:u,children:[(0,r.jsx)(z,{title:"Name",dataIndex:"name",render:function(e,t){return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(A.Z,{title:"Are you sure you want to delete departement : ".concat(e),description:"Are you sure to delete this departement?",okText:"Yes delete!",okButtonProps:{classNames:"!bg-danger",danger:!0},placement:"topRight",cancelText:"Cancel",onConfirm:function(){return G(t.id)},children:(0,r.jsx)("a",{href:"#",className:"!txt-danger pl-2 opacity-0 group-hover:opacity-100 transition ease-in-out",children:"Delete"})})]})}},"name"),(0,r.jsx)(z,{title:"Price per credit hr.",dataIndex:"pricePerCreditHour"},"pricePerCreditHour"),(0,r.jsx)(z,{title:"Registration fee",dataIndex:"departementPaymentPrices",render:function(e){console.log("Registration");var t=f.filter((function(e){return"REGISTRATION"===e.code}));if(console.log("regIds: ",t),t.length>0){var n=e.filter((function(e){return e.paymentTypeId===t[0].id}));if(console.log("pays: ",n),n.length>0)return(0,r.jsxs)(r.Fragment,{children:[n[0].price," birr"]})}return(0,r.jsx)(r.Fragment,{children:"-"})}},"registrationDepPayment"),(0,r.jsxs)(M,{title:"Payment Way",children:[(0,r.jsx)(z,{title:"Name",dataIndex:"paymentWay",render:function(e){return(0,r.jsx)(r.Fragment,{children:e.name})}},"paymentWayName"),(0,r.jsx)(z,{title:"Credit hr",dataIndex:"creditHoursPerPaymentWay"},"creditHoursPerPaymentWay"),(0,r.jsx)(z,{title:"Total",dataIndex:"paymentWay",render:function(e,t){return(0,r.jsxs)(r.Fragment,{children:[t.creditHoursPerPaymentWay*t.pricePerCreditHour," "]})}},"totalPaymentOnPaymentWay")]})]},"id")]})};var B=n(169),L=n(1328),G=n(2846),K=n(2256),Q=n(1320),J=n.n(Q),X=n(4387),$=x.Z.Column;const U=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1],s=(0,a.useState)(!1),i=(s[0],s[1],(0,a.useState)(!1)),c=i[0],l=i[1],u=(0,a.useState)([]),o=u[0],d=u[1],f=(0,a.useState)([]),Z=f[0],v=f[1],b=(0,h.Z)(N.Z.useForm(),1)[0],I=(0,a.useState)(!1),k=I[0],q=I[1],Y=(0,a.useState)(!1),R=Y[0],E=Y[1],H=function(){q(!1),b.resetFields(),E(!1)},M=function(){var e=(0,m.Z)((function(){var e,t,r;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),l(!1),n(!0),[4,(0,K.hR)()];case 1:return e=a.sent(),[4,O()];case 2:return t=a.sent(),e&&t&&(d(e),v(t),n(!1)),[3,4];case 3:return r=a.sent(),console.log(r),l(!0),n(!1),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){M()}),[]);var z=function(){var e=(0,m.Z)((function(e){var t,r,a,s;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),o.filter((function(t){return t.collageId.toLowerCase()===e.collageId.toLowerCase()})).length>0?(y.ZP.error("Student with the same id already exists!"),[2]):(n(!0),t=(0,B.Z)((0,S.Z)({},e),{registeredAt:e.registeredAt.toISOString()}),[4,(0,K.kt)(t)]);case 1:return r=i.sent(),a=(0,w.Z)(o).concat([r]),d(a),setTimeout((function(){n(!1),y.ZP.success("Student information saved successfully"),H()}),1e3),[3,3];case 2:return s=i.sent(),console.log("Saving student errror: ",s),y.ZP.error("Can't save student information please try again"),n(!1),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Z,{title:"Register New Student",open:k,footer:null,onOk:H,onCancel:function(){q(!1),b.resetFields(),E(!1)},destroyOnClose:!0,children:(0,r.jsx)(P.Z,{loading:t,children:(0,r.jsxs)(N.Z,{form:b,size:"middle",layout:"vertical",onFinish:z,children:[(0,r.jsx)(N.Z.Item,{label:"Full Name",name:"name",rules:[{required:!0}],children:(0,r.jsx)(_.Z,{placeholder:"Enter full name here"})}),(0,r.jsx)(N.Z.Item,{label:"ID",name:"collageId",rules:[{required:!0,message:"Student id can't be empty"}],children:(0,r.jsx)(_.Z,{placeholder:"Enter student ID"})}),(0,r.jsx)(N.Z.Item,{label:"Departement",name:"departementId",rules:[{required:!0,message:"Student departement is required"}],children:(0,r.jsx)(T.Z,{placeholder:"Select departement",children:Z.map((function(e){return(0,r.jsxs)(T.Z.Option,{value:e.id,children:[" ",e.name," "]},e.id)}))})}),(0,r.jsx)(N.Z.Item,{label:"Registered at",name:"registeredAt",required:!0,children:(0,r.jsx)(L.Z,{format:"YYYY-MM-DD HH:mm:ss"})}),(0,r.jsx)(G.Z,{name:"hasPenality",onChange:function(e){var t=e.target.checked;E(t)},value:R,className:"mb-2",children:" Has Discount"}),R&&(0,r.jsx)(N.Z.Item,{label:"Discount",name:"discount",className:"w-full",rules:[{required:!0},{type:"number",max:100,min:1}],children:(0,r.jsx)(F.Z,{prefix:"%"})}),(0,r.jsx)(N.Z.Item,{children:(0,r.jsx)(D.Z,{className:"bg-primary",type:"primary",htmlType:"submit",children:"Save"})})]})})}),(0,r.jsx)(g.N,{title:"Students",actionButtons:[(0,r.jsx)(D.Z,{className:"bg-primary",type:"primary",onClick:function(){q(!0)},children:"Register"}),(0,r.jsx)(D.Z,{className:"bg-warning",onClick:function(){return function(){var e="student reports "+J()().format("DD-MM-YYYY")+".xlsx",t=[],n=!0,r=!1,a=void 0;try{for(var s,i=o[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var c=s.value,l={studentId:c.collageId,name:c.name,departement:c.departement.name,registeredAt:J()(c.registeredAt).format("D/MM/YYYY"),discount:parseInt(c.discount)>0?c.discount:"-",isActive:c.isActive?"Active":"Inactive"};t.push(l)}}catch(u){r=!0,a=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}(0,X.p)(e,["Student Id","Full Name","Departement","Registered at","Discount % ","Status"],t)}()},children:"Export"})]}),c&&(0,r.jsx)(j.Z,{className:"my-4"}),(0,r.jsxs)(x.Z,{className:"pt-4",rowKey:"id",pagination:{pageSize:5},rowClassName:"group",loading:t,bordered:!0,size:"xs",dataSource:o,children:[(0,r.jsx)($,{title:"ID",dataIndex:"collageId",render:function(e,t){return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(A.Z,{title:"Are you sure you want to delete student : ".concat(t.name),description:"Are you sure to delete this student?",okText:"Yes delete!",okButtonProps:{classnames:"!bg-danger",danger:!0},placement:"topRight",cancelText:"Cancel",onConfirm:function(){t.id},children:(0,r.jsx)("a",{href:"#",className:"!txt-danger pl-2 opacity-0 group-hover:opacity-100 transition ease-in-out",children:"Delete"})})]})}},"collageId"),(0,r.jsx)($,{title:"Full Name",dataIndex:"name"},"name"),(0,r.jsx)($,{title:"Departement",dataIndex:"departement",render:function(e){return e.name}},"departement"),(0,r.jsx)($,{title:"Registered at",dataIndex:"registeredAt",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[" ",J()(e).format("D/MM/YYYY")," "]})}},"registeredAt"),(0,r.jsx)($,{title:"Status",dataIndex:"isActive",render:function(e,t){return(0,r.jsxs)(r.Fragment,{children:[" ",e?(0,r.jsx)("p",{className:"text-green-500",children:"Active"}):(0,r.jsx)("p",{className:"text-red-500",children:"Inactive"})]})}},"isActive"),(0,r.jsx)($,{title:"Discount",dataIndex:"discount",render:function(e,t){return(0,r.jsxs)(r.Fragment,{children:[" ",e?(0,r.jsxs)("p",{className:"text-primary",children:[e,"%"]}):(0,r.jsx)("p",{className:"text-red-500",children:"-"})]})}},"discount")]},"id")]})};var V="MONTHLY";const ee=function(e){var t=e.onNewForm,n=(0,h.Z)(N.Z.useForm(),1)[0],s=(0,a.useState)(!1),i=s[0],c=s[1],l=(0,a.useState)(!1),u=(l[0],l[1]),o=(0,a.useState)([]),d=o[0],f=o[1],y=(0,a.useState)(null),x=y[0],g=y[1],j=function(){var e=(0,m.Z)((function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u(!1),c(!0),[4,(0,Z.DR)()];case 1:return e=n.sent(),console.log("response : ",e),e&&(f(e),c(!1)),[3,3];case 2:return t=n.sent(),console.log(t),u(!0),c(!1),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){j()}),[]);var v=function(){var e=(0,m.Z)((function(e){var n,r,a,s,i,l;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),console.log(e),c(!0),n=(0,S.Z)({},e),x.code===V?(r=e.month.month(),a=e.month.year(),n=(0,B.Z)((0,S.Z)({},e),{month:r,year:a})):(s=e.year.year(),n=(0,B.Z)((0,S.Z)({},e),{year:s})),[4,(0,Z.r$)(n)];case 1:return i=o.sent(),t(i),c(!1),[3,3];case 2:return l=o.sent(),console.log(l),c(!1),u(!0),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return J().now(),(0,r.jsx)(P.Z,{loading:i,children:(0,r.jsxs)(N.Z,{form:n,size:"middle",layout:"vertical",onFinish:v,children:[(0,r.jsx)(N.Z.Item,{label:"Title of the payment",name:"title",rules:[{required:!0,message:"Title of the payment is required"}],children:(0,r.jsx)(_.Z,{placeholder:"ex. monthly payment for aug 2023"})}),(0,r.jsx)(N.Z.Item,{label:"Payment type",name:"paymentTypeId",rules:[{required:!0,message:"Payment type is required"}],children:(0,r.jsx)(T.Z,{placeholder:"Select payment type",onChange:function(e){var t=d.find((function(t){return t.id===e}));g(t)},children:d.map((function(e){return(0,r.jsxs)(T.Z.Option,{value:e.id,children:[" ",e.name," "]},e.id)}))})}),x&&(0,r.jsxs)(r.Fragment,{children:["MONTHLY"===x.code&&(0,r.jsx)(N.Z.Item,{className:"w-full",label:"Month & Year",name:"month",required:!0,children:(0,r.jsx)(L.Z.MonthPicker,{className:"w-full"})}),"SEMISTER"===x.code&&(0,r.jsxs)(I.Z,{gutter:[16,16],children:[(0,r.jsx)(k.Z,{span:12,children:(0,r.jsx)(N.Z.Item,{className:"w-full",label:"Semister",name:"semister",required:!0,children:(0,r.jsxs)(T.Z,{placeholder:"Select semister",className:"w-full",children:[(0,r.jsx)(T.Z.Option,{value:1,children:"1"},1),(0,r.jsx)(T.Z.Option,{value:2,children:"2"},2)]})})}),(0,r.jsx)(k.Z,{span:12,children:(0,r.jsx)(N.Z.Item,{className:"w-full",label:"Year",name:"year",required:!0,children:(0,r.jsx)(L.Z.YearPicker,{className:"w-full"})})})]}),"QUARTER"===x.code&&(0,r.jsxs)(I.Z,{gutter:[16,16],children:[(0,r.jsx)(k.Z,{span:12,children:(0,r.jsx)(N.Z.Item,{className:"w-full",label:"Quarter",name:"quarter",required:!0,children:(0,r.jsxs)(T.Z,{placeholder:"Select quarter",className:"w-full",children:[(0,r.jsx)(T.Z.Option,{value:1,children:"1"},1),(0,r.jsx)(T.Z.Option,{value:2,children:"2"},2),(0,r.jsx)(T.Z.Option,{value:3,children:"3"},3),(0,r.jsx)(T.Z.Option,{value:4,children:"4"},4)]})})}),(0,r.jsx)(k.Z,{span:12,children:(0,r.jsx)(N.Z.Item,{className:"w-full",label:"Year",name:"year",required:!0,children:(0,r.jsx)(L.Z.YearPicker,{className:"w-full"})})})]}),"REGISTRATION"===x.code&&(0,r.jsx)(N.Z.Item,{className:"w-full",label:"Year",name:"year",required:!0,children:(0,r.jsx)(L.Z.YearPicker,{className:"w-full"})})]}),(0,r.jsx)(N.Z.Item,{children:(0,r.jsx)(D.Z,{className:"bg-primary",type:"primary",htmlType:"submit",children:"Save payment form"})})]})})};var te=x.Z.Column;const ne=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1],s=(0,a.useState)(!1),i=s[0],c=s[1],l=(0,a.useState)([]),u=l[0],o=l[1],d=(0,a.useState)(!1),h=d[0],f=d[1],v=function(){f(!1)},b=function(){var e=(0,m.Z)((function(){var e,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),c(!1),n(!0),[4,(0,Z.cT)()];case 1:return e=r.sent(),console.log(e),e&&(o(e),n(!1)),[3,3];case 2:return t=r.sent(),console.log(t),c(!0),n(!1),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){b()}),[]);var S=function(){var e=(0,m.Z)((function(e,t){var r,a,s,i;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),r={id:e,status:t},n(!0),[4,(0,Z.Fx)(r)];case 1:return a=c.sent(),console.log(a),a&&(s=u.map((function(t){return t.id===e?a:t})),o(s),y.ZP.success("Status of payment form is updated successfully!"),n(!1)),[3,3];case 2:return i=c.sent(),console.log(i),y.ZP.error("Couldn't update form status please try again"),v(),n(!1),[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Z,{title:"Add new payment form",open:h,footer:null,onOk:function(){f(!1)},onCancel:v,destroyOnClose:!0,children:(0,r.jsx)(ee,{onNewForm:function(e){var t=(0,w.Z)(u).concat([e]);o(t),y.ZP.success("New form added successfully"),v()}})}),(0,r.jsx)(g.N,{title:"Payment forms",actionButtons:[(0,r.jsx)(D.Z,{className:"bg-primary",type:"primary",onClick:function(){f(!0)},children:"New Form"})]}),i&&(0,r.jsx)(j.Z,{className:"my-4"}),(0,r.jsxs)(x.Z,{className:"pt-4",pagination:{pageSize:10},rowClassName:"group",loading:t,bordered:!0,size:"xs",dataSource:u,children:[(0,r.jsx)(te,{title:"Title",dataIndex:"title"},"title"),(0,r.jsx)(te,{title:"Payment Type",dataIndex:"paymentType",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[e.name," "]})}},"paymentType"),(0,r.jsx)(te,{title:"Month",dataIndex:"month",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&void 0!==e?e:"-"," "]})}},"month"),(0,r.jsx)(te,{title:"Semister",dataIndex:"semister",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&void 0!==e?e:"-"," "]})}},"semister"),(0,r.jsx)(te,{title:"Quarter",dataIndex:"quarter",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&void 0!==e?e:"-"," "]})}},"quarter"),(0,r.jsx)(te,{title:"Year",dataIndex:"year",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&void 0!==e?e:"-"," "]})}},"year"),(0,r.jsx)(te,{title:"Status",dataIndex:"isActive",render:function(e){return(0,r.jsxs)(r.Fragment,{children:[e?(0,r.jsx)("span",{className:"txt-warning",children:"Active"}):(0,r.jsx)("span",{className:"txt-success",children:"Completed"})," "]})}},"isActive"),(0,r.jsx)(te,{title:"Actions",dataIndex:"isActive",render:function(e,t){return(0,r.jsxs)(r.Fragment,{children:[e?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(A.Z,{title:"Are you sure you want to mark : \n ".concat(t.title," as completed"),description:"Are you sure to mark this payment form?",okText:"Yes mark!",okButtonProps:{classnames:"!bg-danger",danger:!0},placement:"topRight",cancelText:"Cancel",onConfirm:function(){return S(t.id,!1)},children:(0,r.jsx)(D.Z,{className:"bg-success transition ease-in-out",size:"small",children:"Done"})})}):(0,r.jsx)(A.Z,{title:"Are you sure you want to activate : \n ".concat(t.title," as completed"),description:"Are you sure to activate this payment form?",okText:"Yes activate!",okButtonProps:{classnames:"!bg-danger",danger:!0},placement:"topRight",cancelText:"Cancel",onConfirm:function(){return S(t.id,!0)},children:(0,r.jsx)(D.Z,{className:"bg-warning transition ease-in-out",size:"small",children:"Activate"})})," "]})}},"action")]},"id")]})};s.Z.Header;var re=s.Z.Content,ae=s.Z.Sider,se="students",ie="payments",ce="departement",le="paymentForms";const ue=function(){var e=(0,a.useState)(se),t=e[0],n=e[1],m=[{key:ce,label:"Departement ",icon:(0,r.jsx)(c.Z,{})},{key:se,label:"Students",icon:(0,r.jsx)(l.Z,{})},{key:ie,label:"Payments types ",icon:(0,r.jsx)(u.Z,{})},{key:le,label:"Payment Forms ",icon:(0,r.jsx)(o.Z,{})}],h={backgroundColor:"transparent"};return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(ae,{className:"pt-4 !bg-white",id:"managementSideBar",width:250,children:(0,r.jsx)(i.Z,{onClick:function(e){n(e.key)},selectedKeys:[t],style:{width:250,backgroundColor:"transparent"},items:m.map((function(e){return t=e.label,n=e.key,r=e.icon,{key:n,icon:r,children:a,label:t,style:h};var t,n,r,a}))})}),(0,r.jsx)(s.Z,{className:"w-full",children:(0,r.jsxs)(re,{className:"p-4 bg-white ml-2 border-1 w-full",children:[t===se&&(0,r.jsx)(U,{}),t===ie&&(0,r.jsx)(b,{}),t===ce&&(0,r.jsx)(W,{}),t===le&&(0,r.jsx)(ne,{})]})})]})}},2166:(e,t,n)=>{"use strict";n.d(t,{BS:()=>f,Bj:()=>p,DR:()=>l,Fx:()=>m,cT:()=>u,pd:()=>h,r$:()=>d,yw:()=>o});var r=n(3842),a=n(9312),s=n(1072),i=n(8625),c=n(5396),l=(function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i.Z.sendSync(s.j4.checkAndInitializePaymentTypesCall)];case 1:return e=t.sent(),[2,(0,c.Z)(e)];case 2:return[2,t.sent()];case 3:return[2]}}))}))}(),function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.Z.sendSync(s.j4.fetchPaymentTypesCall)];case 1:return e=t.sent(),[2,(0,c.Z)(e)]}}))}));return function(){return e.apply(this,arguments)}}()),u=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.Z.sendSync(s.j4.fetchPaymentFormDataCall)];case 1:return e=t.sent(),[2,(0,c.Z)(e)]}}))}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.changePaymentTypeStatusCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}(),d=(function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.createPaymentTypeCall,JSON.stringify(e))];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}))}(),function(){var e=(0,r.Z)((function(){var e,t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return"Test payment",1,"attachment","null",1e3,e={title:"Test payment",studentId:1,attachmentNo:"attachment",checkNo:"null",total:1e3,payments:[{paymentId:1,paymentTypeId:1,price:1e3,month:2,year:2020}]},[4,i.Z.sendSync(s.j4.addPaymentCall,e)];case 1:return t=n.sent(),console.log("**********************",t),[2,(0,c.Z)(t)]}}))}))}(),function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,i.Z.sendSync(s.j4.fetchPaymentFormsCall)];case 1:return[2,e.sent()]}}))}))}(),function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.createPaymentFormCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}()),m=function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.changePaymentFormStateCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}(),h=(function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.fetchPaymentFormsForDepartementCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}))}(),function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.savePaymentCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}()),p=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.Z.sendSync(s.j4.fetchPaymentsCall)];case 1:return e=t.sent(),[2,(0,c.Z)(e)]}}))}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.j4.getPaymentDetailsCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}()},2256:(e,t,n)=>{"use strict";n.d(t,{hR:()=>l,kt:()=>u,pW:()=>o,sR:()=>d});var r=n(3842),a=n(9312),s=n(1072),i=n(8625),c=n(5396),l=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.Z.sendSync(s.ay.getAllStudentsCall)];case 1:return e=t.sent(),[2,(0,c.Z)(e)]}}))}));return function(){return e.apply(this,arguments)}}(),u=(function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.Z.sendSync(s.ay.getStudentsWithLessData)];case 1:return e=t.sent(),[2,(0,c.Z)(e)]}}))}))}(),function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.ay.createStudentCall,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}()),o=function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.ay.searchStudentsById,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.Z.sendSync(s.ay.getStudentPaymentFormInformation,e)];case 1:return t=n.sent(),[2,(0,c.Z)(t)]}}))}));return function(t){return e.apply(this,arguments)}}()},1072:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,N5:()=>a,ay:()=>s,j4:()=>r});var r={fetchPaymentTypesCall:"get-all-payment-types",createPaymentTypeCall:"create-payment-type",checkAndInitializePaymentTypesCall:"check-and-initialize-payment-types",changePaymentTypeStatusCall:"change-payment-type-status",addPaymentCall:"add-payment-call",fetchPaymentFormsCall:"get-all-payment-forms",createPaymentFormCall:"create-payment-form",fetchPaymentFormDataCall:"get-payment-form-data",changePaymentFormStateCall:"change-payment-form-status",fetchPaymentFormsForDepartementCall:"fetch-payment-forms-for-departement",savePaymentCall:"save-payment",fetchPaymentsCall:"get-all-payments",getPaymentDetailsCall:"get-payment-details"},a={getAllDepartementsCall:"get-all-departements",createDepartementCall:"create-departement",deleteDepartementCall:"delete-departement"},s={getAllStudentsCall:"get-all-students",createStudentCall:"create-student",deleteStudentCall:"delete-student",getStudentsWithLessData:"get-students-with-less-data",searchStudentsById:"search-students-by-id",getStudentPaymentFormInformation:"get-student-payment-form-information"},i={exportDbCalls:"export-db-calls"}},8625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const r=require("electron");const a=n.n(r)().ipcRenderer||!1},5396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){try{var t=JSON.parse(e);return console.log("%c Success response:","color:white; background: green",t),t}catch(n){throw console.log("%c Error response: ","color:white; background:red",e),n}}},9554:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r="Something went wrong please try again"},4387:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(4522),a=function(e,t,n){var a=r.P6.json_to_sheet(n),s=r.P6.book_new();r.P6.sheet_add_aoa(a,[t]),r.P6.sheet_add_json(a,n,{origin:"A2",skipHeader:!0}),r.P6.book_append_sheet(s,a,"Sheet1");r.NC(s,e)}},4300:e=>{"use strict";e.exports=require("buffer")},7282:e=>{"use strict";e.exports=require("process")}},e=>{e.O(0,[259,556,884,680,831,753,506,787,774,888,179],(()=>{return t=3265,e(e.s=t);var t}));var t=e.O();_N_E=t}]);